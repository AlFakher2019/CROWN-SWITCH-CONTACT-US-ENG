<html>

<head>
    <meta charset="UTF-8">
    <title>CONTACT US Crown Switch</title>
    <link href="css/form.css" rel="stylesheet" type="text/css">
    <script src="js/validation.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style"
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"
        media="print" onload="this.media='all'">
    <noscript>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    </noscript>
</head>

<body class="zf-backgroundBg">
    <!-- Change or deletion of the name attributes in the input tag will lead to empty values on record submission-->
    <div class="zf-templateWidth">
        <form
            action='https://forms.zohopublic.eu/ookaportal/form/ContactusCrownSwitch/formperma/mpqRaDOlI39tZ6XNyB6yBetrQWfci0_yhKBrkTHqBFw/htmlRecords/submit'
            name='form' method='POST' onSubmit='javascript:document.charset="UTF-8"; return zf_ValidateAndSubmit();'
            accept-charset='UTF-8' enctype='multipart/form-data' id='form'>
            <input type="hidden" name="zf_referrer_name" value="">
            <input type="hidden" name="zf_redirect_url" value="">
            <input type="hidden" name="zc_gad" value="">
            <div class="zf-templateWrapper">
                <div class="zf-subContWrap zf-topAlign">
                    <ul>
                        <div class="zf-tempFrmWrapper zf-name  zf-namelarge">
                            <div class="zfgrid_Wrapper">
                                <div class="zftwoColumn zfMultiColGrid">
                                    <div class="zfCol">
                                        <div class="zf-tempFrmWrapper zf-large">
                                            <label class="zf-labelName">
                                                First Name
                                                <em class="zf-important"> *</em>
                                            </label>
                                            <div class="zf-tempContDiv">
                                                <span>
                                                    <input type="text" name="Name_First" maxlength="255" fieldType=7
                                                        placeholder="" />
                                                </span>
                                            </div>
                                            <div class="zf-clearBoth"></div>
                                        </div>
                                        <p id="Name_First_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
                                    </div>
                                    <div class="zfCol">
                                        <div class="zf-tempFrmWrapper zf-large">
                                            <label class="zf-labelName">
                                                Last Name
                                                <em class="zf-important"> *</em>
                                            </label>
                                            <div class="zf-tempContDiv">
                                                <span>
                                                    <input type="text" name="Name_Last" maxlength="255" fieldType=7
                                                        placeholder="" />
                                                </span>
                                            </div>
                                            <div class="zf-clearBoth"></div>
                                        </div>
                                        <p id="Name_Last_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
                                            <div class="zf-clearBoth"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="zf-clearBoth"></div>
                </div>
                <div class="zfgrid_Wrapper">
                    <div class="zftwoColumn zfMultiColGrid">
                        <div class="zfCol">
                            <div class="zf-tempFrmWrapper zf- zf-large ">
                                <label class="zf-labelName"> Phone
                                </label>
                                <div class="zf-tempContDiv zf-phonefld">
                                    <div class="zf-phwrapper zf-phNumber">
                                        <span> <input type="text" compname="PhoneNumber" name="PhoneNumber_countrycode"
                                                maxlength="20" checktype="c7" value="" phoneFormat="1"
                                                isCountryCodeEnabled=false fieldType="11"
                                                id="international_PhoneNumber_countrycode" valType="number"
                                                phoneFormatType="1" placeholder="" />
                                        </span>
                                        <div class="zf-clearBoth"></div>
                                    </div>
                                    <p id="PhoneNumber_error" class="zf-errorMessage" style="display:none;">
                                        Invalid value</p>
                                </div>
                                <div class="zf-clearBoth"></div>
                            </div>
                        </div>
                        <div class="zfCol">
                            <div class="zf-tempFrmWrapper  zf-large ">
                                <label class="zf-labelName">
                                    Email
                                    <em class="zf-important"> *</em>
                                </label>
                                <div class="zf-tempContDiv">
                                    <span>
                                        <input type="text" name="Email" checktype="c5" value="" maxlength="255"
                                            fieldType=9 placeholder="" /> </span>
                                    <p id="Email_error" class="zf-errorMessage" style="display: none;">Invalid
                                        value</p>
                                </div>
                                <div class="zf-clearBoth"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="zf-tempFrmWrapper  zf-large ">
                    <label class="zf-labelName">
                        Reason for Contact:
                        <em class="zf-important"> *</em>
                    </label>
                    <div class="zf-tempContDiv">
                        <select class="zf-form-sBox" name="Dropdown" checktype="c1">
                            <option value="">Select</option>
                            <option value="Order">Order</option>
                            <option value="Repair">Repair</option>
                            <option value="Warranty Registration">Warranty Registration</option>
                            <option value="Delivery to countries outside Germany">Delivery to countries outside Germany
                            </option>
                            <option value="Pod Inquiry">Pod Inquiry</option>
                            <option value="Payment / Invoice">Payment / Invoice</option>
                            <option value="General Inquiry">General Inquiry</option>
                            <option value="Virtual Assistance">Virtual Assistance</option>

                        </select>
                        <p id="Dropdown_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
                    </div>
                    <div class="zf-clearBoth"></div>
                </div>
                <div class="zf-tempFrmWrapper  zf-large ">
                    <label class="zf-labelName">
                        Subject
                        <em class="zf-important"> *</em>
                    </label>
                    <div class="zf-tempContDiv">
                        <span>
                            <input type="text" name="SingleLine" checktype="c1" value="" maxlength="255" fieldType=1
                                placeholder="" />
                        </span>
                        <p id="SingleLine_error" class="zf-errorMessage" style="display: none;">Invalid value</p>
                    </div>
                    <div class="zf-clearBoth"></div>
                </div>
                <div class="zf-tempFrmWrapper  zf-large ">
                    <label class="zf-labelName">
                        Message
                    </label>
                    <div class="zf-tempContDiv">
                        <span>
                            <textarea name="MultiLine" checktype="c1" maxlength="65535" placeholder=""></textarea>
                        </span>
                        <p id="MultiLine_error" class="zf-errorMessage" style="display: none;">Invalid value</p>
                    </div>
                    <div class="zf-clearBoth"></div>
                </div>
                </ul>
            </div>
            <ul>
                <li class="zf-fmFooter"><button class="zf-submitColor" type="submit">Submit</button></li>
            </ul>
            
    </div>
    </form>
    </div>

    <script>
        (function () {
            var form = document.getElementById('form');
            if (!form) return;

            function $(selector) { return form.querySelector(selector); }

            var fields = {
                Name_First: {
                    el: $('[name="Name_First"]'),
                    err: document.getElementById('Name_First_error'),
                    required: true,
                    validate: function (value) {
                        if (!value.trim()) return 'First name is required.';
                        if (!/^[A-Za-zÄÖÜäöüßÁÉÍÓÚÜÑáéíóúüñ\s\'-]{2,}$/.test(value)) return 'Please enter a valid first name (letters only).';
                        return '';
                    }
                },
                Name_Last: {
                    el: $('[name="Name_Last"]'),
                    err: document.getElementById('Name_Last_error'),
                    required: true,
                    validate: function (value) {
                        if (!value.trim()) return 'Last name is required.';
                        if (!/^[A-Za-zÄÖÜäöüßÁÉÍÓÚÜÑáéíóúüñ\s\'-]{2,}$/.test(value)) return 'Please enter a valid last name (letters only).';
                        return '';
                    }
                },
                Email: {
                    el: $('[name="Email"]'),
                    err: document.getElementById('Email_error'),
                    required: true,
                    validate: function (value) {
                        if (!value.trim()) return 'Email address is required.';
                        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/;
                        if (!emailRegex.test(value)) return 'Invalid email format.';
                        return '';
                    }
                },
                PhoneNumber_countrycode: {
                    el: $('[name="PhoneNumber_countrycode"]'),
                    err: document.getElementById('PhoneNumber_error'),
                    required: false,
                    validate: function (value) {
                        if (!value.trim()) return '';
                        var digits = (value.match(/\d/g) || []).length;
                        if (digits < 10) return 'Please enter at least 10 digits.';
                        if (!/^[+\d()\-\s]+$/.test(value)) return 'Invalid phone number format.';
                        return '';
                    }
                },
                Dropdown: {
                    el: $('[name="Dropdown"]'),
                    err: document.getElementById('Dropdown_error'),
                    required: true,
                    validate: function (value) {
                        if (!value || value === '-Select-') return 'Please select an option.';
                        return '';
                    }
                },
                SingleLine: {
                    el: $('[name="SingleLine"]'),
                    err: document.getElementById('SingleLine_error'),
                    required: true,
                    validate: function (value) {
                        if (!value.trim()) return 'This field is required.';
                        if (value.trim().length < 3) return 'At least 3 characters required.';
                        return '';
                    }
                },
                MultiLine: {
                    el: $('[name="MultiLine"]'),
                    err: document.getElementById('MultiLine_error'),
                    required: false,
                    validate: function (value) {
                        if (!value.trim()) return '';
                        if (value.trim().length < 5) return 'At least 5 characters required.';
                        return '';
                    }
                }
            };

            function showError(fieldCfg, message) {
                if (!fieldCfg || !fieldCfg.el) return;
                if (fieldCfg.err) {
                    fieldCfg.err.textContent = message || '';
                    fieldCfg.err.style.display = message ? 'block' : 'none';
                }
                fieldCfg.el.setAttribute('aria-invalid', message ? 'true' : 'false');
                fieldCfg.el.classList.toggle('is-invalid', !!message);
                fieldCfg.el.classList.toggle('is-valid', !message && fieldCfg.el.value.trim().length > 0);
            }

            function validateField(key) {
                var cfg = fields[key];
                if (!cfg || !cfg.el) return true;
                var val = cfg.el.value || '';
                var message = cfg.validate ? cfg.validate(val) : '';
                showError(cfg, message);
                return !message;
            }

            function attachListeners() {
                Object.keys(fields).forEach(function (key) {
                    var cfg = fields[key];
                    if (!cfg.el) return;
                    var handler = function () { validateField(key); };
                    cfg.el.addEventListener('input', handler);
                    cfg.el.addEventListener('blur', handler);
                    if (cfg.el.tagName === 'SELECT') {
                        cfg.el.addEventListener('change', handler);
                    }
                });
            }

            function validateAllRequired() {
                var allValid = true;
                Object.keys(fields).forEach(function (key) {
                    var cfg = fields[key];
                    if (!cfg || !cfg.el) return;
                    if (cfg.required || (cfg.el.value && cfg.el.value.trim().length > 0)) {
                        var ok = validateField(key);
                        if (!ok) allValid = false;
                    }
                });
                return allValid;
            }

            attachListeners();

            // Override the original zf_ValidateAndSubmit function if it exists
            window.zf_ValidateAndSubmit = function() {
                return validateAllRequired();
            };

            form.addEventListener('submit', function (event) {
                var isValid = validateAllRequired();
                if (!isValid) {
                    event.preventDefault();
                    event.stopPropagation();
                    // Scroll to first error
                    var firstError = form.querySelector('.zf-errorMessage[style*="display: block"]');
                    if (firstError) {
                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    return false;
                }
                return true;
            }, false);
        })();
    </script>
</body>

</html>